"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/**
 * @license 
 * Copyright (c) 2017, Immo Schulz-Gerlach, www.isg-software.de 
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, are 
 * permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this list of
 * conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice, this list
 * of conditions and the following disclaimer in the documentation and/or other materials
 * provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT 
 * SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, 
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED 
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY
 * WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function($){function e(e){var t=e.valueInput;if("object"===(void 0===t?"undefined":_typeof(t))){if("function"==typeof t.val)return t;throw"option 'valueInput' is an object, but does not have a 'val' method, i.e. it's obviously not a jQuery result object."}return"string"==typeof t?$(t):null}var t="$.fn.setupProgressPie",n={};$.fn.setupProgressPie=function(n,r){var o=this;$(this).each(function(){var e=$(this).data(t);if(r||"object"!==(void 0===e?"undefined":_typeof(e))){var o=$.extend({},$.fn.progressPie.defaults,{update:!0},n);$(this).data(t,o)}else $.extend(e,n)});var i=$.extend({},$.fn.progressPie.defaults,n),a=e(i);if(null!==a){if("string"!=typeof i.valueInputEvents)throw"'valueInputEvents' has to be a string (comma-separated list of event names)!";a.on(i.valueInputEvents,function(){$(o).progressPie()})}return this},$.fn.progressPie=function(r){function o(e,t){if("number"==typeof e)return e;if(Array.isArray(e)&&e.length>0){if(1===e.length)return e[0];for(var n=t;n>=e.length;)n-=2;return e[n]}return 0}function i(e){return void 0===n[e]&&(n[e]=0),e+ ++n[e]}function a(e){return.02*Math.PI*e}function s(e,t){var n=eval,r=n(e);if("function"==typeof r)return r(t);throw"The value of the colorFunctionAttr attribute is NOT a function: "+e}function u(e){var t=eval,n=t(N+"."+e);if("function"==typeof n||"object"===(void 0===n?"undefined":_typeof(n))&&"function"==typeof n.draw)return n;throw e+" is not the name of a function or object in namespace "+N+"!"}function l(e){var t;if("function"==typeof e||"object"===(void 0===e?"undefined":_typeof(e))&&"function"==typeof e.draw)t=e;else{if("string"!=typeof e)throw"contentPlugin option must either be a function or an object with method named 'draw' or the name of such a function or object in the namespace "+N+"!";t=u(e)}return t}function d(e){return Array.isArray(e)?$.map(e,l):[l(e)]}function p(e,t){return null===e?null:Array.isArray(e)?e[t]:0===t&&"object"===(void 0===e?"undefined":_typeof(e))?e:null}function f(e,t){return.02*Math.PI*e*t}function c(e,t,n,r,o,i){var a=document.createElementNS(R,"animate");a.setAttribute("attributeName",t),a.setAttribute("attributeType",n),a.setAttribute("from",r),a.setAttribute("to",o),a.setAttribute("fill","freeze");for(var s in i)a.setAttribute(s,i[s]);e.appendChild(a)}function g(e,t,n){var r,o;if("number"==typeof t)r=t;else{if("object"!==(void 0===t?"undefined":_typeof(t)))throw"illegal option: 'strokeDashes' is neither number (count) nor object!";r=t.count,o=t.length}if(void 0===r)throw"illegal option: 'strokeDashes' does not specify the 'count' property!";if(void 0===o)o=n/r/2;else if("string"==typeof o){o=o.trim();var i="%"===o.substring(o.length-1);o=Number.parseInt(o,10),i&&(o=n*o/100)}if(o*r>=n)throw"Illegal options: strokeDashCount * strokeDashLength >= circumference, can't set stroke-dasharray!";var a=(n-o*r)/r,s="object"===(void 0===t?"undefined":_typeof(t))&&t.centered?1*o/2:0;"object"===(void 0===t?"undefined":_typeof(t))&&t.inverted?(e.style.strokeDasharray=a+"px, "+o+"px",e.style.strokeDashoffset=a+s+"px"):(e.style.strokeDasharray=o+"px, "+a+"px",0!==s&&(e.style.strokeDashoffset=s+"px"))}function v(e,t,n,r,o,i,s,u,l,d,p,v,m,h,y,b,A,S){"number"==typeof n&&(n=Math.min(n,t)),"number"==typeof u&&(u=Math.min(u,t));var C=-1;if("number"==typeof n&&"number"==typeof u&&n>0&&u>0&&n!==u&&s&&(d===_.RingAlign.CENTER||d===_.RingAlign.INNER)){var k=Math.max(u,n),P=Math.min(u,n);C=d===_.RingAlign.CENTER?t-k/2:t-k+P/2}var E,w,M=!1;if("number"==typeof n){w=document.createElementNS(R,"circle"),w.setAttribute("cx",0),w.setAttribute("cy",0),C>0&&n<u?E=C:(E=t-n/2,s||d!==_.RingAlign.INNER||(E-=u)),w.setAttribute("r",E),w.setAttribute("transform","rotate(-90)"),o&&g(w,o,2*Math.PI*E),M="string"==typeof r;var N=M?r:y;"string"==typeof N&&(w.style.stroke=N),"string"==typeof i&&(w.style.fill=i),w.style.strokeWidth=n,w.setAttribute("class",p),e.appendChild(w)}var x=u||(s||"number"!=typeof n?t:t-n);if(C>0&&u<n?E=C:(E=t-x/2,s||"number"!=typeof n||d!==_.RingAlign.OUTER||(E-=n)),100!==m||A||"string"!=typeof y){if(m>0&&m<100||(A||void 0===y)&&(0===m||100===m)){var I=document.createElementNS(R,"path"),O,D=m;if(A){var j=m-h,T=f(E,j),B=j<0,F,V;B?(D=h,F="0px",V=-T+"px"):(F=T+"px",V="0px");var z=f(E,D);I.setAttribute("stroke-dasharray",z+"px "+z+"px"),I.setAttribute("stroke-dashoffset",F),c(I,"stroke-dashoffset","CSS",F,V,A),l&&0===m&&c(I,"stroke-linecap","CSS","round","butt",A),b&&b!==y&&(c(I,"stroke","CSS",b,y,A),M||(w.style.stroke=b,c(w,"stroke","CSS",b,y,A)))}var U=a(D),W=100===D?-1e-5:Math.sin(U)*E,K=Math.cos(U-Math.PI)*E,L=D>50?"1":"0",G="1",Y=-E,Q="M0,"+Y;if(Q+=" A"+E+","+E+" 0 "+L+",1 "+W+","+K,I.setAttribute("d",Q),I.style.fill="none","string"==typeof y&&(I.style.stroke=y),I.style.strokeWidth=x,I.style.strokeLinecap=l&&m>0?"round":"butt",S){var X=!1===S.clockwise,q="string"==typeof S?S:"string"==typeof S.duration?S.duration:"1s";O=document.createElementNS(R,"animateTransform"),O.setAttribute("attributeName","transform"),O.setAttribute("attributeType","XML"),O.setAttribute("type","rotate"),O.setAttribute("from","0"),O.setAttribute("to",X?"-360":"360"),O.setAttribute("dur",q),O.setAttribute("repeatDur","indefinite"),I.appendChild(O)}I.setAttribute("class",v),e.appendChild(I)}}else{var H=document.createElementNS(R,"circle");H.setAttribute("cx",0),H.setAttribute("cy",0),H.setAttribute("r",E),H.style.stroke=y,H.style.strokeWidth=x,H.style.fill="none",H.setAttribute("class",v),e.appendChild(H)}}function m(t,n){var r,o=e(n);if(null!==o){if(r=o.val(),void 0!==n.valueData||void 0!==n.valueAttr||void 0!==n.valueSelector)throw"options 'valueInput', 'valueData', 'valueAttr' and 'valueSelector' are mutually exclusive, i.e. at least three must be undefined!"}else if("string"==typeof n.valueData){if(r=t.data(n.valueData),void 0!==n.valueAttr||void 0!==n.valueSelector)throw"options 'valueData', 'valueAttr' and 'valueSelector' are mutually exclusive, i.e. at least two must be undefined!"}else{if(void 0!==n.valueData)throw"option 'valueData' is not of type 'string'!";if("string"==typeof n.valueAttr){if(r=t.attr(n.valueAttr),void 0!==n.valueSelector)throw"options 'valueAttr' and 'valueSelector' are mutually exclusive, i.e. at least one must be undefined!"}else{if(void 0!==n.valueAttr)throw"option 'valueAttr' is not of type 'string'!";void 0!==n.valueSelector&&(r=$(n.valueSelector,t).text())}}return void 0===r&&(r=t.text()),r}function h(e,t){return Math.max(0,Math.min(100,t.valueAdapter(e)))}function y(e,t){var n=t.mode,r=t.color,o=void 0===r?"undefined":_typeof(r);if("undefined"!==o&&"string"!==o&&"function"!==o)throw"option 'color' has to be either a function or a string, but is of type '"+o+"'!";return"function"===o?n=x.USER_COLOR_FUNC:("undefined"===o&&"string"==typeof t.colorAttr&&(r=e.attr(t.colorAttr)),"string"==typeof r?n=x.USER_COLOR_CONST:"string"==typeof t.colorFunctionAttr&&"string"==typeof(r=e.attr(t.colorFunctionAttr))&&(n=x.DATA_ATTR_FUNC)),{mode:n,color:r}}function b(e,t,n){return e===x.CSS?void 0:e===x.MASK?x.MASK.color:e===x.IMASK?x.IMASK.color:e===x.GREY?x.GREY.color:e===x.GREEN?_.colorByPercent(100):e===x.RED?_.colorByPercent(0):e===x.COLOR||void 0===t?_.colorByPercent(n):e===x.USER_COLOR_CONST?t:e===x.USER_COLOR_FUNC?t(n):e===x.DATA_ATTR_FUNC?s(t,n):"black"}function A(e,t,n){return e===x.CSS?void 0:"string"==typeof t.backgroundColor?t.backgroundColor:"function"==typeof t.backgroundColor?t.backgroundColor(n):e===x.IMASK?x.MASK.color:"none"}function S(e,t){return void 0===e.ringWidth||t&&t.fullSize}function C(e,t,n,r,i,a){var s=document.createElementNS(R,"rect");e.appendChild(s);var u=t+o(n,3),l=t+o(n,0),d=u+t+o(n,1),p=l+t+o(n,2);"number"==typeof a&&"none"!==r&&(s.setAttribute("stroke-width",a),d-=a,p-=a,u-=a/2,l-=a/2),s.setAttribute("x","-"+u),s.setAttribute("y","-"+l),s.setAttribute("width",d),s.setAttribute("height",p),s.setAttribute("stroke",r),s.setAttribute("fill",i)}function k(e,t){var n=document.createElementNS(R,"svg"),r=e+t.getPadding(3)+t.getMargin(3),o=e+t.getPadding(0)+t.getMargin(0),i=r+e+t.getPadding(1)+t.getMargin(1),a=o+e+t.getPadding(2)+t.getMargin(2),s=i,u=a;return"number"==typeof t.scale&&(s*=t.scale,u*=t.scale),n.setAttribute("width",Math.ceil(s)),n.setAttribute("height",Math.ceil(u)),n.setAttribute("viewBox","-"+r+" -"+o+" "+i+" "+a),n}function P(e,t,n){var r={};if(r.raw=m(e,t),"function"==typeof t.optionsByRawValue){var o=t.optionsByRawValue(r.raw);void 0!==o&&null!==o&&($.extend(t,o),r.raw=m(e,t))}r.p=h(r.raw,t);var i=0===n?_.prevValueDataName:_.prevInnerValueDataName;if(n>1&&(i+=n),r.prevP=e.data(i),r.isInitialValue=void 0===r.prevP,e.data(i,r.p),"number"!=typeof r.prevP&&(r.prevP=0),"function"==typeof t.optionsByPercent){var a=t.optionsByPercent(r.p);void 0!==a&&null!==a&&($.extend(t,a),r.raw=m(e,t),r.p=h(r.raw,t))}return r}var E={getMargin:function e(t){return o(this.margin,t)},getPadding:function e(t){return o(this.padding,t)}},w=$.extend({},$.fn.progressPie.defaults,r,E),M=void 0===r,R="http://www.w3.org/2000/svg",N="jQuery.fn.progressPie.contentPlugin",_=$.fn.progressPie,x=$.extend({USER_COLOR_CONST:{},USER_COLOR_FUNC:{},DATA_ATTR_FUNC:{}},_.Mode);return $(this).each(function(){var e=$(this),n=$.extend({},w);if(M){var r=$(this).data(t);"object"===(void 0===r?"undefined":_typeof(r))&&(n=$.extend({},r,E))}var o=$("svg",e);if(!o.length||n.update){o.length&&n.update&&(o.remove(),n.separator="");var a=P(e,n,0),s=Math.ceil("number"==typeof n.size?n.size:e.height());0===s&&(s=20),s*=n.sizeFactor;var u=s/2,f=u,c=y(e,n),g=b(c.mode,c.color,a.p),m=A(c.mode,n,a.p),h;(!0===n.animateColor||void 0===n.animateColor&&!a.isInitialValue)&&(h=b(c.mode,c.color,a.prevP));var N=_.smilSupported()?!0===n.animate?_.defaultAnimationAttributes:"object"===_typeof(n.animate)?$.extend({},_.defaultAnimationAttributes,n.animate):null:null,x=null,I=!1;if(n.contentPlugin){x=d(n.contentPlugin);for(var O={color:g,percentValue:a.p,rawValue:a.raw,pieOpts:n},D=0;D<x.length;D++){var j=x[D],T=p(n.contentPluginOptions,D),B=O;null!==T&&"object"===(void 0===T?"undefined":_typeof(T))&&(B=$.extend({},O,T)),"object"===(void 0===j?"undefined":_typeof(j))&&"function"==typeof j.hidesChartIfFullSize&&(I=I||n.mode!==_.Mode.MASK&&n.mode!==_.Mode.IMASK&&S(n,T)&&j.hidesChartIfFullSize(B))}}var F=k(u,n),V=document.createElementNS(R,"defs");c.mode!==_.Mode.CSS&&(F.style.verticalAlign=n.verticalAlign),e.is(":empty")?e.append(F):n.prepend?e.prepend(F,n.separator):e.append(n.separator,F);var z=null,U=F;if(!I){n.mode!==_.Mode.MASK&&n.mode!==_.Mode.IMASK||(U=document.createElementNS(R,"mask"),V.appendChild(U),z=i("pie"),U.setAttribute("id",z),n.mode===_.Mode.IMASK&&C(U,u,n.padding,"none",m));var W=n.cssClassForegroundPie,K=n.cssClassBackgroundCircle;"object"===_typeof(n.inner)&&(W+=" "+n.cssClassOuter,K+=" "+n.cssClassOuter),v(U,u,n.strokeWidth,n.strokeColor,n.strokeDashes,m,n.overlap,n.ringWidth,n.ringEndsRounded,n.ringAlign,K,W,a.p,a.prevP,g,h,N,n.rotation)}for(var L="number"==typeof n.ringWidth?n.ringWidth:"number"==typeof n.strokeWidth?n.strokeWidth:0,G=n.inner,Y=0;"object"===(void 0===G?"undefined":_typeof(G));){Y++,G=$.extend({},G),void 0===G.valueAdapter&&(G.valueAdapter=_.defaults.valueAdapter),void 0===G.overlap&&(G.overlap=_.defaults.overlap),void 0===G.ringAlign&&(G.ringAlign=n.ringAlign);var Q=P(e,G,Y),X=n.cssClassInner;Y>1&&(X+=Y),c=y(e,G),u="number"==typeof G.size?G.size*n.sizeFactor/2:.6*u;var q=b(c.mode,c.color,Q.p),H=null;(!0===G.animateColor||void 0===G.animateColor&&(!0===n.animateColor||void 0===n.animateColor&&Q.isInitialValue))&&(H=b(c.mode,c.color,Q.prevP)),!1!==G.animate&&_.smilSupported()?!0===G.animate&&null===N?N=_.defaultAnimationAttributes:"object"===_typeof(G.animate)&&(N=null===N?$.extend({},_.defaultAnimationAttributes,G.animate):$.extend({},N,G.animate)):N=null,I||v(U,u,G.strokeWidth,G.strokeColor,G.strokeDashes,m,G.overlap,G.ringWidth,G.ringEndsRounded,G.ringAlign,n.cssClassBackgroundCircle+" "+X,n.cssClassForegroundPie+" "+X,Q.p,Q.prevP,q,H,N),L="number"==typeof G.ringWidth?G.ringWidth:0,G=G.inner}if(null!==x){var J=u;L<u&&(J-=L);for(var Z={newSvgElement:function e(t){var n=document.createElementNS(R,t);return re.appendChild(n),n},newSvgSubelement:function e(t,n){var r=document.createElementNS(R,n);return t.appendChild(r),r},newDefElement:function e(t){var n=document.createElementNS(R,t);return V.appendChild(n),n},createId:i,isFullSize:function e(){return S(n,this)},getBackgroundRadius:function e(t){var n=this.isFullSize()?this.totalRadius:this.radius;if(!t){n-="number"==typeof this.margin?this.margin:this.isFullSize()?this.pieOpts.defaultContentPluginBackgroundMarginFullSize:this.pieOpts.defaultContentPluginBackgroundMarginInsideRing}return n},addBackground:function e(t){if(this.backgroundColor){var n=this.newSvgElement("circle");n.setAttribute("cx","0"),n.setAttribute("cy","0"),n.setAttribute("r",t),n.setAttribute("fill",this.backgroundColor)}},addBackgroundRect:function e(t,r,o){C(re,f,n.padding,t,r,o)},getContentPlugin:l,radius:J,totalRadius:f,color:g,percentValue:a.p,rawValue:a.raw,pieOpts:n},ee=!0,te=0;te<x.length;te++){var ne=x[te],re=document.createElementNS(R,"g"),oe="function"==typeof ne?ne:ne.draw,ie=Z,ae=p(n.contentPluginOptions,te);null!==ae&&"object"===(void 0===ae?"undefined":_typeof(ae))&&(ie=$.extend({},Z,ae)),oe(ie),"boolean"==typeof ne.inBackground&&ne.inBackground||"function"==typeof ne.inBackground&&ne.inBackground(ie)?($(F).prepend(re),null!==z&&ee&&(re.setAttribute("mask","url(#"+z+")"),ee=!1)):$(F).append(re),V.hasChildNodes()&&$(F).prepend(V)}if(null!==z&&ee)throw"MASK mode could not be applied since no content plug-in drew a background to be masked! You need do specify at least one content plug-in which draws into the background!"}}}),this},$.fn.progressPie.Mode={GREY:{color:"#888"},RED:{value:200},GREEN:{value:200},COLOR:{},CSS:{},MASK:{color:"white"},IMASK:{color:"black"}},$.fn.progressPie.colorByPercent=function(e,t){var n=$.fn.progressPie.Mode.GREEN.value,r=$.fn.progressPie.Mode.RED.value,o=e>50?n:Math.floor(n*e/50),i=e<50?r:Math.floor(r*(100-e)/50),a=i+","+o+",0";return"number"==typeof t?"rgba("+a+","+t+")":"rgb("+a+")"},$.fn.progressPie.smilSupported=function(){return void 0===$.fn.progressPie.smilSupported.cache&&($.fn.progressPie.smilSupported.cache=/SVGAnimate/.test(document.createElementNS("http://www.w3.org/2000/svg","animate").toString())),$.fn.progressPie.smilSupported.cache},$.fn.progressPie.RingAlign={OUTER:{},CENTER:{},INNER:{}},$.fn.progressPie.defaults={mode:$.fn.progressPie.Mode.GREY,margin:0,padding:0,strokeWidth:2,overlap:!0,ringAlign:$.fn.progressPie.RingAlign.OUTER,prepend:!0,separator:"&nbsp;",verticalAlign:"bottom",update:!1,valueAdapter:function e(t){return"string"==typeof t?parseFloat(t):"number"==typeof t?t:0},valueInputEvents:"change",ringEndsRounded:!1,sizeFactor:1,scale:1,defaultContentPluginBackgroundMarginFullSize:0,defaultContentPluginBackgroundMarginInsideRing:1,cssClassBackgroundCircle:"progresspie-background",cssClassForegroundPie:"progresspie-foreground",cssClassOuter:"progresspie-outer",cssClassInner:"progresspie-inner"},$.fn.progressPie.defaultAnimationAttributes={dur:"1s",calcMode:"spline",keySplines:"0.23 1 0.32 1",keyTimes:"0;1"},$.fn.progressPie.contentPlugin={},$.fn.progressPie.prevValueDataName="_progresspieSVG_prevValue",$.fn.progressPie.prevInnerValueDataName="_progresspieSVG_prevInnerValue"}(jQuery);